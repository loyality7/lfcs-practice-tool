id: cmd_medium_003
category: essential_commands
difficulty: medium
task: |
  Create a file /tmp/{{ random_file }} with 3 lines of text.
  Use sed to delete the second line and save the result to /tmp/{{ random_file }}.

points: 15
time_limit: 300

setup_commands:
  - "rm -f /tmp/{{ random_file }} /tmp/{{ random_file }} 2>/dev/null || true"
  - "echo -e 'Line 1\\nLine 2\\nLine 3' > /tmp/{{ random_file }}"

validation:
  checks:
    - type: file
      path: "/tmp/{{ random_file }}"
      should_exist: true
      description: "Output file exists"
    
    - type: command
      command: "wc -l /tmp/{{ random_file }} | awk '{print $1}'"
      expected_output: "2"
      description: "File contains 2 lines (second line deleted)"
    
    - type: command
      command: "grep 'Line 2' /tmp/{{ random_file }} || echo 'not_found'"
      expected_output: "not_found"
      description: "Line 2 is not present"

hints:
  - "Use 'sed '2d' /tmp/{{ random_file }} > /tmp/{{ random_file }}'"
  - "The '2d' command deletes line 2"

tags:
  - essential_commands
  - sed
  - text_processing
