id: text_processing_01
level: intermediate
title: "Text Processing - grep, sed, awk"
description: "Master powerful text processing tools"
estimated_time: 40

lessons:
  - id: lesson_01
    title: "Searching with grep"
    notes: |
      ðŸ” grep - Global Regular Expression Print
      
      The most important search tool in Linux!
      
      Basic Syntax: grep [options] pattern [file]
      
      Common Options:
      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      â€¢ grep "text" file          - Search for text
      â€¢ grep -i "text" file       - Case-insensitive
      â€¢ grep -r "text" dir        - Recursive search
      â€¢ grep -n "text" file       - Show line numbers
      â€¢ grep -v "text" file       - Invert match (exclude)
      â€¢ grep -c "text" file       - Count matches
      â€¢ grep -l "text" *.txt      - List matching files
      â€¢ grep -A 3 "text" file     - Show 3 lines After
      â€¢ grep -B 3 "text" file     - Show 3 lines Before
      â€¢ grep -C 3 "text" file     - Show 3 lines Context
      
      Examples:
      â€¢ grep "error" /var/log/syslog
      â€¢ grep -i "warning" *.log
      â€¢ grep -r "TODO" /home/user/code/
    
    exercises:
      - id: ex_01
        type: command
        description: "Search for 'root' in /etc/passwd"
        command: grep "root" /etc/passwd
        expected_pattern: "root"
        hints:
          - "Use: grep \"root\" /etc/passwd"
        points: 15
      
      - id: ex_02
        type: command
        description: "Count how many lines contain 'bin' in /etc/passwd"
        command: grep -c "bin" /etc/passwd
        expected_pattern: "\\d+"
        hints:
          - "Use grep with -c flag"
          - "Type: grep -c \"bin\" /etc/passwd"
        points: 20

  - id: lesson_02
    title: "Stream Editor - sed"
    notes: |
      âœï¸ sed - Stream Editor
      
      Edit text without opening a file!
      
      Common Uses:
      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      â€¢ sed 's/old/new/' file           - Replace first occurrence
      â€¢ sed 's/old/new/g' file          - Replace all occurrences
      â€¢ sed 's/old/new/gi' file         - Replace all (case-insensitive)
      â€¢ sed -i 's/old/new/g' file       - Edit file in-place
      â€¢ sed '1,5d' file                 - Delete lines 1-5
      â€¢ sed -n '10,20p' file            - Print lines 10-20
      â€¢ sed '/pattern/d' file           - Delete matching lines
      
      Examples:
      â€¢ sed 's/error/ERROR/g' log.txt
      â€¢ sed -i 's/http/https/g' config.txt
      â€¢ sed '1d' file.txt  # Remove first line
    
    exercises:
      - id: ex_03
        type: command
        description: "Replace 'root' with 'admin' in first line of /etc/passwd"
        command: sed 's/root/admin/' /etc/passwd | head -1
        expected_pattern: "admin"
        hints:
          - "Use: sed 's/root/admin/' /etc/passwd | head -1"
        points: 20

  - id: lesson_03
    title: "Pattern Scanning - awk"
    notes: |
      ðŸ“Š awk - Pattern Scanning and Processing
      
      Perfect for processing columnar data!
      
      Basic Syntax: awk 'pattern {action}' file
      
      Common Uses:
      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      â€¢ awk '{print $1}' file           - Print first column
      â€¢ awk '{print $1,$3}' file        - Print columns 1 and 3
      â€¢ awk -F: '{print $1}' file       - Use : as delimiter
      â€¢ awk '$3 > 100' file             - Filter rows
      â€¢ awk '{sum+=$1} END {print sum}' - Sum column
      â€¢ awk 'NR==5' file                - Print line 5
      â€¢ awk 'NR>=10 && NR<=20' file     - Print lines 10-20
      
      Special Variables:
      â€¢ $0 - Entire line
      â€¢ $1, $2, $3 - Columns
      â€¢ NR - Line number
      â€¢ NF - Number of fields
      
      Examples:
      â€¢ awk -F: '{print $1}' /etc/passwd  # Print usernames
      â€¢ awk '{print $1,$3}' data.txt
      â€¢ ls -l | awk '{print $9,$5}'  # filename and size
    
    exercises:
      - id: ex_04
        type: command
        description: "Print first column (usernames) from /etc/passwd"
        command: "awk -F: '{print $1}' /etc/passwd | head -5"
        hints:
          - "Use awk with -F: to set delimiter"
          - "Type: awk -F: '{print $1}' /etc/passwd | head -5"
        points: 25

  - id: lesson_04
    title: "Sorting and Unique"
    notes: |
      ðŸ”¢ sort and uniq Commands
      
      sort - Sort lines:
      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      â€¢ sort file              - Alphabetical sort
      â€¢ sort -r file           - Reverse sort
      â€¢ sort -n file           - Numeric sort
      â€¢ sort -k2 file          - Sort by column 2
      â€¢ sort -u file           - Sort and remove duplicates
      
      uniq - Remove duplicates:
      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      â€¢ uniq file              - Remove adjacent duplicates
      â€¢ uniq -c file           - Count occurrences
      â€¢ uniq -d file           - Show only duplicates
      â€¢ uniq -u file           - Show only unique lines
      
      Note: uniq only works on sorted data!
      Common pattern: sort file | uniq
    
    exercises:
      - id: ex_05
        type: command
        description: "Sort /etc/passwd and show first 3 lines"
        command: sort /etc/passwd | head -3
        hints:
          - "Use: sort /etc/passwd | head -3"
        points: 15

completion_criteria:
  min_exercises_completed: 4
  min_score: 70
